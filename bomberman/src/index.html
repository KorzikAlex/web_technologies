<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>Bomberman</title>

        <link rel="icon" type="image/png" href="/assets/icons/favicon.png" />
        <script type="module" src="./index.ts" defer></script>
    </head>

    <body class="body">
        <aside class="sidebar" id="sidebar">
            <div class="info-panel">
                <h2 class="info-panel__title">–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
                <ol class="info-panel__content leaderboard" id="infoPanelContent">
                    <!-- Dynamic leaderboard goes here -->
                </ol>
            </div>
            <div class="theme-selector">
                <h3 class="theme-selector__title">–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</h3>
                <div class="theme-selector__options">
                    <label class="theme-option">
                        <input type="radio" name="theme" value="system" id="themeSystem" checked />
                        <span>–°–∏—Å—Ç–µ–º–Ω–∞—è</span>
                    </label>
                    <label class="theme-option">
                        <input type="radio" name="theme" value="light" id="themeLight" />
                        <span>–°–≤–µ—Ç–ª–∞—è</span>
                    </label>
                    <label class="theme-option">
                        <input type="radio" name="theme" value="dark" id="themeDark" />
                        <span>–¢—ë–º–Ω–∞—è</span>
                    </label>
                </div>
            </div>
            <div class="player-info" id="playerInfo">
                <div class="player-info__row">
                    <label for="playerSelect">–ò–≥—Ä–æ–∫:</label>
                    <select id="playerSelect" class="player-select">
                        <!-- Dynamic player list -->
                    </select>
                </div>
                <button id="changePlayerBtn" class="change-player-btn">–°–º–µ–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
            </div>
        </aside>

        <header class="toolbar">
            <button
                id="toggleSidebarBtn"
                class="toolbar__toggle-btn"
                aria-label="–°–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å"
            >
                ‚ò∞
            </button>
            <h1 class="toolbar__title">Bomberman</h1>
            <div class="toolbar__controls">
                <button id="pauseBtn" class="toolbar__control-btn" aria-label="–ü–∞—É–∑–∞" title="–ü–∞—É–∑–∞ (P)">
                    ‚è∏
                </button>
                <button id="restartBtn" class="toolbar__control-btn" aria-label="–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫" title="–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É">
                    üîÑ
                </button>
            </div>
            <div class="toolbar__player">
                <span class="toolbar__player-label">–ò–≥—Ä–æ–∫:</span>
                <span class="toolbar__player-nick" id="headerPlayerNick">-</span>
                <span class="toolbar__player-separator">|</span>
                <span class="toolbar__player-label">–û—á–∫–∏:</span>
                <strong class="toolbar__player-score" id="headerPlayerScore">0</strong>
                <span class="toolbar__player-separator">|</span>
                <span class="toolbar__player-label">–ñ–∏–∑–Ω–∏:</span>
                <span class="toolbar__player-lives" id="headerPlayerLives">
                    <span class="life-heart">‚ù§</span>
                    <span class="life-heart">‚ù§</span>
                    <span class="life-heart">‚ù§</span>
                    <span class="life-heart">‚ù§</span>
                    <span class="life-heart">‚ù§</span>
                </span>
            </div>
        </header>

        <div
            class="modal modal--visible"
            id="nickModal"
            role="dialog"
            aria-modal="true"
            aria-labelledby="nickModalTitle"
        >
            <div class="modal__content">
                <h2 id="nickModalTitle">–í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∏–≥—Ä–æ–∫–∞</h2>
                <input
                    id="playerNickInput"
                    type="text"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫ (–Ω–æ–≤—ã–π –∏–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)"
                    aria-label="–ù–∏–∫ –∏–≥—Ä–æ–∫–∞"
                />
                <div class="modal__actions">
                    <button id="startGameBtn" disabled>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <div
            class="modal modal--hidden"
            id="gameOverModal"
            role="dialog"
            aria-modal="true"
            aria-labelledby="gameOverModalTitle"
        >
            <div class="modal__content modal__content--game-over">
                <h2 id="gameOverModalTitle">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
                <div class="game-over-stats">
                    <p class="game-over-stats__player">
                        –ò–≥—Ä–æ–∫: <strong id="gameOverPlayerNick">-</strong>
                    </p>
                    <p class="game-over-stats__score">
                        –û—á–∫–∏: <strong id="gameOverPlayerScore">0</strong>
                    </p>
                </div>
                <div class="modal__actions modal__actions--game-over">
                    <button id="restartGameBtn" class="btn btn--primary">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                    <button id="changePlayerGameOverBtn" class="btn btn--secondary">–°–º–µ–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
                </div>
            </div>
        </div>

        <div
            class="modal modal--hidden"
            id="victoryModal"
            role="dialog"
            aria-modal="true"
            aria-labelledby="victoryModalTitle"
        >
            <div class="modal__content modal__content--victory">
                <h2 id="victoryModalTitle">üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ</h2>
                <p class="victory-message">–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ —É—Ä–æ–≤–Ω–∏!</p>
                <div class="victory-stats">
                    <p class="victory-stats__player">
                        –ò–≥—Ä–æ–∫: <strong id="victoryPlayerNick">-</strong>
                    </p>
                    <p class="victory-stats__score">
                        –û—á–∫–∏: <strong id="victoryPlayerScore">0</strong>
                    </p>
                </div>
                <div class="victory-leaderboard">
                    <h3>–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h3>
                    <ol id="victoryLeaderboard" class="victory-leaderboard__list">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤ -->
                    </ol>
                </div>
                <div class="modal__actions modal__actions--victory">
                    <button id="restartVictoryBtn" class="btn btn--primary">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                    <button id="changePlayerVictoryBtn" class="btn btn--secondary">–°–º–µ–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
                </div>
            </div>
        </div>

        <main class="main">
            <canvas id="gameCanvas" width="800" height="600" class="canvas"></canvas>
        </main>
    </body>
</html>
