extends layout

block head
    - const activeTitle = 'Управление пользователями'
    - const activeLink = 'users'
    -
        const navbarOptions = {
            actions: [{ text: 'Добавить пользователя', icon: 'bi bi-plus-circle', modal: '#addUserModal' }],
            filterGroups: [
            {
                id: 'roleFilter',
                label: 'Фильтр по роли',
                itemClass: 'filter-btn',
                filterType: 'role',
                items: [
                    { value: '', text: 'Все' },
                    { value: 'admin', text: 'Администратор' },
                    { value: 'user', text: 'Пользователь' }
                ]
            },
            {
                id: 'statusFilter',
                label: 'Фильтр по статусу',
                itemClass: 'filter-btn',
                filterType: 'status',
                items: [
                    { value: '', text: 'Все' },
                    { value: 'pending', text: 'Не подтверждён' },
                    { value: 'active', text: 'Активный' },
                    { value: 'blocked', text: 'Заблокирован' }
                ]
            }
            ]
        }


block content
    .container-fluid.py-4
        h1.mb-4 Управление пользователями

        .table-responsive
            table.table.table-striped.table-hover
                thead
                    tr
                        th Фото
                        th ФИО
                        th Email
                        th Дата рождения
                        th Роль
                        th Статус
                        th Действия
                tbody#usersTableBody

    // Модальное окно редактирования
    #editUserModal.modal.fade(tabindex="-1")
        .modal-dialog.modal-lg
            .modal-content
                .modal-header
                    h5.modal-title Редактирование пользователя
                    button.btn-close(type="button" data-bs-dismiss="modal")
                .modal-body
                    form#editUserForm
                        input#editUserId(type="hidden")
                        .mb-3
                            label.form-label ФИО
                            input.form-control#editFullName(type="text" required)
                        .mb-3
                            label.form-label Email
                            input.form-control#editEmail(type="email" required)
                        .mb-3
                            label.form-label Дата рождения
                            input.form-control#editBirthDate(type="date" min="1900-01-01" max=new Date().toISOString().split('T')[0] required)
                        .mb-3
                            label.form-label Роль
                            select.form-select#editRole
                                option(value="user") Пользователь
                                option(value="admin") Администратор
                        .mb-3
                            label.form-label Статус
                            select.form-select#editStatus
                                option(value="pending") Не подтверждён
                                option(value="active") Активный
                                option(value="blocked") Заблокирован
                .modal-footer
                    button.btn.btn-secondary(type="button" data-bs-dismiss="modal") Отмена
                    button.btn.btn-primary#saveUserBtn Сохранить

    // Модальное окно добавления
    #addUserModal.modal.fade(tabindex="-1")
        .modal-dialog.modal-lg
            .modal-content
                .modal-header
                    h5.modal-title Добавление пользователя
                    button.btn-close(type="button" data-bs-dismiss="modal")
                .modal-body
                    form#addUserForm
                        .mb-3
                            label.form-label ФИО
                            input.form-control#addFullName(type="text" required)
                        .mb-3
                            label.form-label Email
                            input.form-control#addEmail(type="email" required)
                        .mb-3
                            label.form-label Имя пользователя
                            input.form-control#addUsername(type="text" required)
                        .mb-3
                            label.form-label Пароль
                            input.form-control#addPassword(type="password" required)
                        .mb-3
                            label.form-label Дата рождения
                            input.form-control#addBirthDate(type="date" min="1900-01-01" max=new Date().toISOString().split('T')[0] required)
                .modal-footer
                    button.btn.btn-secondary(type="button" data-bs-dismiss="modal") Отмена
                    button.btn.btn-primary#addUserBtn Добавить

    // Модальное окно подтверждения удаления
    #deleteConfirmModal.modal.fade(tabindex="-1")
        .modal-dialog
            .modal-content
                .modal-header
                    h5.modal-title Подтверждение удаления
                    button.btn-close(type="button" data-bs-dismiss="modal")
                .modal-body
                    p Вы уверены, что хотите удалить этого пользователя? Это действие необратимо.
                .modal-footer
                    button.btn.btn-secondary(type="button" data-bs-dismiss="modal") Отмена
                    button.btn.btn-danger#confirmDeleteBtn Удалить


