mixin sidebar(menuItems = [], opts = {})
    //- Toggle button (показывается только на мобильных)
    button.btn.btn-outline-secondary.d-lg-none(type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas" aria-controls="sidebarOffcanvas" aria-label="Открыть меню")
        i.bi.bi-list.me-1 aria-hidden="true"
        | Меню

    //- Offcanvas для small screens (hidden on lg+)
    div.offcanvas.offcanvas-start.d-lg-none#sidebarOffcanvas(tabindex="-1" aria-labelledby="sidebarOffcanvasLabel")
        div.offcanvas-header
            h5.offcanvas-title#sidebarOffcanvasLabel Меню
            button.btn-close(type="button" data-bs-dismiss="offcanvas" aria-label="Закрыть")
        div.offcanvas-body
            nav.sidebar-nav
                ul.nav.flex-column
                    each item in menuItems
                        - const isActive = (opts.active === item.href)
                        li.nav-item
                            a.nav-link(class=isActive ? 'active' : '', href=item.href)
                                if item.icon
                                    i(class=item.icon + " me-2") aria-hidden="true"
                                | #{item.title}

    //- Desktop sidebar (visible on lg+)
    aside.sidebar.d-none.d-lg-block
        div.sidebar-inner
            nav
                ul.nav.flex-column
                    each item in menuItems
                        - const isActive = (opts.active === item.href)
                        li.nav-item
                            a.nav-link(class=isActive ? 'active' : '', href=item.href)
                                if item.icon
                                    i(class=item.icon + " me-2") aria-hidden="true"
                                | #{item.title}

        //- Optional footer area (e.g., user)
        if opts.user
            div.sidebar-footer.mt-auto.p-3
                small.text-muted Привет, #{opts.user.name}
